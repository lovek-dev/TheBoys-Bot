AUTO-RESTART & CRASH PROTECTION
âœ… Catch Unhandled Errors

Handle:

uncaughtException

unhandledRejection

Log:

ğŸš¨ Unhandled Error Detected
Error: {message}
Stack: {stack}
Bot attempting recoveryâ€¦

Attempt recovery without full crash.

âœ… Shard / Connection Drop Recovery

If bot disconnects:

âš  Connection lost. Reconnectingâ€¦

Auto reconnect.

ğŸ“Š STARTUP DIAGNOSTICS

When bot is ready, print:

âœ… Logged in as BotName#0000
ğŸ“¡ Connected to X servers
ğŸ‘¥ Watching X users
âš™ Commands loaded: X
ğŸ§  Ragebait module: ACTIVE
ğŸ­ Persona engine: ACTIVE
ğŸ§ª COMMAND SELF-TEST SYSTEM

After startup, bot should internally verify commands.

âœ” Step 1: Verify Slash Commands Registered

Log:

âœ” /ping registered
âœ” /verifyrole registered
âœ” /ragebait registered

If missing:

âš  Command missing: /verifyrole
Attempting re-registration...

Then auto-register.

âœ” Step 2: Demo Command Execution (Silent Test)

Bot performs internal tests:

Test ping command

Expect response latency.

Console:

âœ” Ping command responded in 132ms
Test ragebait module

Simulate mention event â†’ ensure response generated.

âœ” Ragebait trigger simulation passed
Test role removal permission

Check bot permissions:

âœ” Manage Roles permission OK

If missing:

âŒ Missing permission: MANAGE_ROLES
Role removal will fail.
ğŸ›  PERMISSION VALIDATION

Check bot permissions in guild:

Required:

Send Messages

Manage Roles

Moderate Members (timeout)

Read Message History

If missing:

âŒ Missing permission: MODERATE_MEMBERS
Timeout feature disabled.
ğŸ§  RAGEBAIT MODULE VALIDATION

On startup verify:

âœ” persona engine loaded
âœ” timeout duration valid
âœ” abuse word list loaded
âœ” cooldown settings valid

Example:

âœ” Persona profiles loaded: 4
âœ” Toxicity scaling active
âœ” Abuse filter loaded (10 terms)
âœ” Timeout duration: 60s
ğŸ§¾ LIVE ERROR LOGGING

When runtime errors occur:

Command error:
âš  Error executing /verifyrole
Reason: Missing permissions
Module error:
âš  Ragebait module error:
Timeout failed â€” insufficient permissions

Bot should continue running.

ğŸ”„ AUTO-FIX ROUTINES
If command registration fails:

â†’ retry
â†’ fallback to guild-only registration

If role removal fails:

â†’ log missing permission
â†’ notify admin

If timeout fails:

â†’ notify user & log error

ğŸ§ª DEBUG MODE (Optional Toggle)

If DEBUG=true:

âœ” verbose logging
âœ” event tracing
âœ” message trigger logs

Example:

[DEBUG] Mention detected from User123
[DEBUG] Persona selected: Chaos Gremlin
[DEBUG] Timeout executed (60s)
ğŸ“¢ ADMIN ERROR ALERTS (Optional)

If severe error occurs, notify server owner/admin:

âš  Bot encountered an error.
Check logs or permissions.
ğŸ” SAFE SHUTDOWN HANDLER

On shutdown (SIGINT / restart):

Shutting down gracefullyâ€¦
Closing connectionsâ€¦
Saving cacheâ€¦
Shutdown complete.
ğŸ¯ DESIGN GOAL

Ensure the bot:

âœ… never crashes silently
âœ… auto-recovers from connection issues
âœ… validates environment & permissions
âœ… self-tests commands on launch
âœ… prints clear diagnostics
âœ… logs actionable errors
âœ… attempts automatic fixes